-- HSQLDB 数据库程序数据库初始化脚本

--
-- 创建用户表 ( users ) --

CREATE TABLE IF NOT EXISTS PUBLIC.USERS
(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
MOBILE VARCHAR(45) NOT NULL,
NAME VARCHAR(45),
PASSWORD VARCHAR(100) NOT NULL,
UPDATETIME TIMESTAMP,
CREATETIME TIMESTAMP NOT NULL,
STATUS TINYINT NOT NULL,
ROLE TINYINT NOT NULL,
CLIENTTYPE TINYINT,
DEVICETOKEN VARCHAR(200),
PRIMARY KEY (ID),
UNIQUE (MOBILE));

--
-- 创建插件表 ( plugins ) --
CREATE TABLE IF NOT EXISTS PUBLIC.PLUGINS
(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
PACKAGEID INTEGER NOT NULL,
NAME VARCHAR(45),
VERSION VARCHAR(100),
DESCRIPTION VARCHAR(800),
ISACTIVE BOOLEAN,
UPDATETIME TIMESTAMP,
CREATETIME TIMESTAMP,
PRIMARY KEY (ID),
UNIQUE (NAME));

--
-- 创建插件包表 ( plugin_packages ) --
CREATE TABLE IF NOT EXISTS PUBLIC.PLUGIN_PACKAGES
(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
CHECKSUM VARCHAR(100) NOT NULL,
FILENAME VARCHAR(200) NOT NULL,
PRIMARY KEY (ID),
UNIQUE (CHECKSUM));

-- 数据库升级脚本